<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Solar Power Generation Estimation</title>
  </head>
  <head>
    <title>Search</title>
  </head>
  
  
  
  <body>
    
    <h1>Search</h1>
    <form  action="http://127.0.0.1:8000/" method="post">
      <div>
        <label for="lat">Latitude:</label>
        <input type="text" id="lat1" name="lat1" value="" required>
      </div><br>
      <div>
        <label for="lon">Longitude:</label>
        <input type="text" id="lon1" name="lon1" value="" required>
      </div><br>
      <label for="date_from">Date from:</label>
        <input type="date" max="2019-12-31" min="2000-01-01" id="date_from1" name="date_from1" value="" required>
      </div><br><br>
      <label for="date_to">Date to:</label>
        <input type="date" min="2000-01-01" max="2019-12-31" id="date_to1" name="date_to1" value="" required>
      </div><br><br>
      <label for="capacity">Capacity:</label>
        <input type="number" id="capacity1" name="capacity1" value="" required>
      </div><br><br>
      
      <Button id="submit" onclick="validateDates()" type="submit">Submit</Button>
      <button onclick="clearResult()" type="button">Clear Result</button>

    </form>
    
    <h1>Search Results</h1>
    <div id="result">
      {{ data|safe }}
    </div>

    

    <script>
      function clearResult() {
        var resultDiv = document.getElementById("result");
        resultDiv.innerHTML = "";
      }
    </script>
    



    <script>
      function validateDates() {
        let fromDate = new Date(document.getElementById("date_from1").value);
        let toDate = new Date(document.getElementById("date_to1").value);
        
        let maxToDate = new Date(fromDate);
        maxToDate.setFullYear(fromDate.getFullYear() + 1);
        
        if (toDate > maxToDate) {
          toDate = maxToDate;
          document.getElementById("date_to1").value = toDate.toISOString().substr(0, 10);
        }
      }
      </script>
      

  </body>
</html>